<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>Code Editor</title>
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
  <script src="https://apis.google.com/js/api.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Figtree:400,600&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/addon/hint/show-hint.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/codemirror.min.js"></script>
  <link rel="stylesheet" href="codemirror.css">
  <link rel="stylesheet" href="darcul.css">
  <link rel="stylesheet" href="style.css">

</head>

<body>
  <header>
    <nav class="navbar navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="#">Pr<img style="border-radius: 50%;" src="favicon.ico" alt="">grammer's Corner PH
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDarkNavbar"
          aria-controls="offcanvasDarkNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasDarkNavbar"
          aria-labelledby="offcanvasDarkNavbarLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasDarkNavbarLabel">Menu</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas"
              aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <ul class="navbar-nav justify-content-end flex-grow-1 pe-3">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="https://programmerscornerph.vercel.app/">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">contact-info</a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                  aria-expanded="false">
                  Projects
                </a>
                <ul class="dropdown-menu dropdown-menu-dark">
                  <li><a class="dropdown-item" href="https://programmerscornerph-2f1f9.web.app">Code Editor version
                      1</a></li>
                  <li><a class="dropdown-item" href="#">Another action</a></li>
                  <li>
                    <hr class="dropdown-divider">
                  </li>
                  <li><a class="dropdown-item" href="#">Something else here</a></li>
                </ul>
              </li>
            </ul>

            <form class="d-flex mt-3" role="search">
              <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
              <button class="btn btn-success" type="submit">Search</button>
            </form>
          </div>
        </div>
      </div>
    </nav>
  </header>
  <div class="row" style="margin-top: 80px;">
    <div class="col-md-6">
      <div id="container-editor" class="container">
        <div class="editors">
          <div class="editor-tab active" id="html-tab">HTML</div>
          <div class="editor-tab" id="css-tab">CSS</div>
          <div class="editor-tab" id="js-tab">JavaScript</div>
          <button id="run-btn">Run</button>
          <button id="clear-btn" style="margin-right: 20px;">Clear</button>
        </div>
        <div class="editor-content">
          <textarea id="html-editor" placeholder="HTML" class="language-html"><!--HTML--></textarea>
          <textarea id="css-editor" placeholder="CSS" class="language-css"><!--CSS--></textarea>
          <textarea id="js-editor" placeholder="JAVASCRIPT" class="language-javascript"><!--JavaScript--></textarea>

        </div>
      </div>
    </div>
    <div class="col-md-6">
      <div>
        <div id="video-container">
          <iframe width="100%" height="100%" src="https://www.youtube.com/embed/j59qQ7YWLxw"
            title="JavaScript Tutorial for Beginners: Learn JavaScript in 1 Hour" frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
            allowfullscreen></iframe>
        </div>
      </div>
    </div>
  </div>
  <div class="row-md-12">
    <div class="output-container" style="display: block; border: 3px solid rgb(82, 81, 81); padding: 5px;">
      <iframe id="output" style="border: 5px solid rgb(82, 81, 81);"></iframe>
    </div>
    <div id="pagination" style="display: flex; justify-content: center;">
      <a href="#">Previous</a>
      <a href="#">1</a>
      <a href="#">2</a>
      <a href="#">3</a>
      <a href="#">Next</a>
    </div>

  </div>
  <footer>
    <div class="row">
      <button id="download-btn">Save</button>
      <button id="save-btn">Download</button>
    </div>
    <div class="col">
      <div class="contact-info">
        <p>Programmers Corner PH v.1.2.01</p>
        <p>Phone: (123) 456-7890</p>
        <p>Email: example@example.com</p>
      </div>

    </div>
    <img style="border-radius: 50%;" src="apple-icon-72x72.png" alt="">
  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/mode/htmlmixed/htmlmixed.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/mode/css/css.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/mode/javascript/javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/addon/dialog/dialog.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.62.2/addon/edit/matchbrackets.min.js"></script>

  <script src="https://codemirror.net/mode/htmlmixed/htmlmixed.js"></script>
  <script src="https://codemirror.net/mode/javascript/javascript.js"></script>
  <script src="https://codemirror.net/mode/css/css.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
  <script src="hint.js"></script>
  <script src="search.js"></script>
  <script src="script.js"></script>
  <script src="xml.js"></script>
  <!-- <script type="module" src="./video.js"></script> -->
  <script type="module">

    import * as firebase from '../node_modules/firebase';


    const firebaseConfig = {
      apiKey: "AIzaSyASHm4DHXPNiem2nl25_Ax8jHHXRSVYC7A",
      authDomain: "programmerscornerph-2f1f9.firebaseapp.com",
      databaseURL: "https://programmerscornerph-2f1f9-default-rtdb.firebaseio.com",
      projectId: "programmerscornerph-2f1f9",
      storageBucket: "programmerscornerph-2f1f9.appspot.com",
      messagingSenderId: "1090743775951",
      appId: "1:1090743775951:web:fb6d67af58b66fbfd8bdba",
      measurementId: "G-BT751SCDZ2"
    };


    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const storage = getStorage(app);

    function searchVideos(event) {
      event.preventDefault(); // prevent default form submission

      const searchKeyword = document.getElementById('search-input').value;

      videosRef.get().then((doc) => {
        if (doc.exists) {
          const videoUrl = doc.data()[searchKeyword.toLowerCase()];
          if (videoUrl) {
            videoContainer.innerHTML = '';
            const video = document.createElement('iframe');
            video.width = '100%';
            video.height = '100%';
            video.src = videoUrl;
            video.title = 'YouTube video player';
            video.frameBorder = '0';
            video.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
            video.allowFullscreen = true;
            videoContainer.appendChild(video);

            showVideos(currentVideoPage);
          }
        }
      });
    }

    const videosPerPage = 1; // change this to set the number of videos to show per page
    const videoContainer = document.getElementById('video-container');
    const pagination = document.getElementById('pagination');
    const videosRef = db.collection('videos').doc('javascript');
    let currentVideoPage = 1;

    function showVideos(page) {
      const startIndex = (page - 1) * videosPerPage;
      const endIndex = startIndex + videosPerPage;

      videosRef.get().then((doc) => {
        if (doc.exists) {
          const videoData = doc.data();
          const videoKeys = Object.keys(videoData);
          const totalPages = Math.ceil(videoKeys.length / videosPerPage);
          const videoUrls = [];

          // Get the URLs of the videos to show on the current page
          for (let i = startIndex; i < endIndex && i < videoKeys.length; i++) {
            const videoKey = videoKeys[i];
            const videoUrl = videoData[videoKey];
            videoUrls.push(videoUrl);
          }

          // Update the video container with the videos to show on the current page
          videoContainer.innerHTML = '';
          videoUrls.forEach((videoUrl) => {
            const video = document.createElement('iframe');
            video.width = '100%';
            video.height = '100%';
            video.src = videoUrl;
            video.title = 'YouTube video player';
            video.frameBorder = '0';
            video.allow = 'accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share';
            video.allowFullscreen = true;
            videoContainer.appendChild(video);
          });

          // Update the pagination links
          pagination.innerHTML = '';

          if (totalPages <= 4) {
            for (let i = 1; i <= totalPages; i++) {
              const pageNumber = document.createElement('a');
              pageNumber.href = '#';
              pageNumber.innerHTML = i;
              if (i === page) {
                pageNumber.classList.add('active');
              }
              pageNumber.addEventListener('click', () => {
                currentVideoPage = i;
                showVideos(currentVideoPage);
              });
              pagination.appendChild(pageNumber);
            }
          } else {
            const prevButton = document.createElement('a');
            prevButton.href = '#';
            prevButton.innerHTML = 'Prev';
            if (currentVideoPage === 1) {
              prevButton.classList.add('disabled');
            } else {
              prevButton.addEventListener('click', () => {
                currentVideoPage = currentVideoPage - 1;
                showVideos(currentVideoPage);
              });
            }
            pagination.appendChild(prevButton);

            const firstPage = Math.max(1, currentVideoPage - 2);
            const lastPage = Math.min(totalPages, currentVideoPage + 2);

            for (let i = firstPage; i <= lastPage; i++) {
              const pageNumber = document.createElement('a');
              pageNumber.href = '#';
              pageNumber.innerHTML = i;
              if (i === currentVideoPage) {
                pageNumber.classList.add('active');
              }
              pageNumber.addEventListener('click', () => {
                currentVideoPage = i;
                showVideos(currentVideoPage);
              });
              pagination.appendChild(pageNumber);
            }

            if (currentVideoPage < totalPages) {
              const nextButton = document.createElement('a');
              nextButton.href = '#';
              nextButton.innerHTML = 'Next';
              nextButton.addEventListener('click', () => {
                currentVideoPage = currentVideoPage + 1;
                showVideos(currentVideoPage);
              });
              pagination.appendChild(nextButton);
            } else {
              const nextButton = document.createElement('a');
              nextButton.href = '#';
              nextButton.innerHTML = 'Next';
              nextButton.classList.add('disabled');

              pagination.appendChild(nextButton);

            }


          }

        }
      });
    }
    showVideos(currentVideoPage);
  </script>
</body>

</html>